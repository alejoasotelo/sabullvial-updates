<?xml version="1.0" encoding="utf-8"?>
<form>
	<fieldset name="basic">
		<field
			name="id"
			type="hidden"
			default="0"
			class="readonly"
			readonly="true"
		/>
		<field
			name="id_regla"
			type="regla"
			default=""
			label="Regla"
			description="Esta tarea fue creada por la regla"
			class="readonly input-xxlarge"
			readonly="true"
		>
			<option value="">- Seleccione una regla -</option>
		</field>

		<field
			name="name"
			type="hidden"
			label="COM_SABULLVIAL_TAREA_NAME_LABEL"
			description="COM_SABULLVIAL_TAREA_NAME_DESC"
			size="40"
			maxlength="255"
			class="inputbox"
			default=""
		/>

		<field
			name="usuarios"
			type="sql"
			query="SELECT id, name FROM #__users"
			key_field="id"
			value_field="name"
			label="COM_SABULLVIAL_TAREA_USUARIO_LABEL"
			description="COM_SABULLVIAL_TAREA_USUARIO_DESC"
			class="inputbox no-chosen select2usuarios"
			default=""
			multiple="true"
		/>

		<field
			name="group_id"
			type="sql"
			query="SELECT id, title FROM `#__usergroups` WHERE parent_id = 10"
			key_field="id"
			value_field="title"
			label="COM_SABULLVIAL_TAREA_GRUPO_DE_USUARIO_LABEL"
			description="COM_SABULLVIAL_TAREA_GRUPO_DE_USUARIO_DESC"
			class="inputbox no-chosen select2"
			default=""
		>
			<option value="">- Seleccione un grupo de usuario -</option>
		</field>
		
		<field
			name="id_cotizacion"
			type="cotizacionajax"
			label="COM_SABULLVIAL_TAREA_COTIZACION_LABEL"
			description="COM_SABULLVIAL_TAREA_COTIZACION_DESC"
			class="inputbox input-xlarge"
			onchange="cotizacionHasChanged(this)"
		/>
		
		<field
			name="id_cliente"
			type="clienteajax"
			label="COM_SABULLVIAL_TAREA_CLIENTE_SISTEMA_LABEL"
			description="COM_SABULLVIAL_TAREA_CLIENTE_SISTEMA_DESC"
			class="inputbox input-xlarge"
		/>
		
		<field
			name="codigo_cliente"
			type="clienteortext"
			label="COM_SABULLVIAL_TAREA_CLIENTE_LABEL"
			description="COM_SABULLVIAL_TAREA_CLIENTE_DESC"
			class="inputbox no-chosen input-xlarge"
		/>

		<field
			name="descripcion"
			type="textarea"
			label="COM_SABULLVIAL_TAREA_DESCRIPCION_LABEL"
			description="COM_SABULLVIAL_TAREA_DESCRIPCION_DESC"
			class="inputbox input-xxlarge"
			cols="20"
			rows="6"
		/>

		<field
			name="start_date"
			type="calendar"
			label="COM_SABULLVIAL_TAREA_START_DATE_LABEL"
			description="COM_SABULLVIAL_TAREA_START_DATE_DESC"
			translateformat="true"
			showtime="true"
			size="22"
			filter="user_utc"
			required="true"
		/>

		<field
			name="expiration_date"
			type="calendar"
			label="COM_SABULLVIAL_TAREA_EXPIRATION_DATE_LABEL"
			description="COM_SABULLVIAL_TAREA_EXPIRATION_DATE_DESC"
			translateformat="true"
			showtime="true"
			size="22"
			filter="user_utc"
			required="true"
		/>

		<field
			name="task_type"
			type="list"
			label="COM_SABULLVIAL_TAREA_TASK_TYPE_LABEL"
			description="COM_SABULLVIAL_TAREA_TASK_TYPE_DESC"
			class="inputbox no-chosen select2"
			default="0"
			required="true"
			onchange="
				this.form.jform_task_value_email.value = '';
				this.form.jform_task_value_llamada.value = '';
				this.form.jform_task_value_action.value = '';
				this.form.jform_task_value.value = '';
				jQuery('#jform_task_value_action').trigger('change');
			"
			>
			<option value="">COM_SABULLVIAL_TAREA_SELECCIONAR_TASK_TYPE</option>
			<option value="llamada">COM_SABULLVIAL_TAREA_TASK_TYPE_LLAMADA</option>
			<option value="email">COM_SABULLVIAL_TAREA_TASK_TYPE_NOTIFICAR_POR_EMAIL</option>
			<option value="aprobar_cliente">COM_SABULLVIAL_TAREA_TASK_TYPE_APROBAR_CLIENTE</option>
			<option value="action">COM_SABULLVIAL_TAREA_TASK_TYPE_ACTION</option>
		</field>

    	<field
			showon="task_type:llamada"
			name="task_value_llamada"
			type="tel"
			inputtype="tel"
			label="COM_SABULLVIAL_TAREA_TASK_VALUE_LLAMADA_LABEL"
			description="COM_SABULLVIAL_TAREA_TASK_VALUE_LLAMADA_DESC"
			hint="1122334455"
			default=""
			class="validate-numeric"
			validate="number"
			onchange="this.form.jform_task_value.value = this.form.jform_task_value_llamada.value;"
		/>

    	<field
			showon="task_type:email"
			name="task_value_email"
			type="email"
			label="COM_SABULLVIAL_TAREA_TASK_VALUE_NOTIFICAR_POR_EMAIL_LABEL"
			description="COM_SABULLVIAL_TAREA_TASK_VALUE_NOTIFICAR_POR_EMAIL_DESC"
			onchange="this.form.jform_task_value.value = this.form.jform_task_value_email.value;"
			hint="email@email.com"
			class="validate-email"
			validate="email"
			default=""
		/>

		<field
			showon="task_type:action"
			name="task_value_action"
			type="text"
			label="COM_SABULLVIAL_TAREA_TASK_VALUE_ACTION_SELECT_LABEL"
			default=""
			class="input-xlarge"
			onchange="this.form.jform_task_value.value = this.value;"
		/>

		<field
			name="task_value"
			type="hidden"
			label="COM_SABULLVIAL_TAREA_TASK_VALUE_LABEL"
			description="COM_SABULLVIAL_TAREA_TASK_VALUE_DESC"
			size="40"
			class="inputbox"
			default=""
		/>

		<field
			name="published"
			type="list"
			label="JSTATUS"
			description="JFIELD_PUBLISHED_DESC"
			class="chzn-color-state"
			default="1"
			size="1"
			>
			<option value="1">JPUBLISHED</option>
			<option value="0">JUNPUBLISHED</option>
			<option value="2">JARCHIVED</option>
			<option value="-2">JTRASHED</option>
		</field>

		<field
			name="spacer"
			type="spacer"
			hr="true"
		/>

		<field
			name="created"
			type="calendar"
			label="JGLOBAL_FIELD_CREATED_LABEL"
			description="COM_SABULLVIAL_FIELD_CREATED_DESC"
			translateformat="true"
			showtime="true"
			size="22"
			filter="user_utc"
		/>

		<field
			name="created_by"
			type="user"
			label="COM_SABULLVIAL_FIELD_CREATED_BY_LABEL"
			description="COM_SABULLVIAL_FIELD_CREATED_BY_DESC"
		/>

		<field
			name="created_by_alias"
			type="text"
			label="COM_SABULLVIAL_FIELD_CREATED_BY_ALIAS_LABEL"
			description="COM_SABULLVIAL_FIELD_CREATED_BY_ALIAS_DESC"
			size="20"
		/>

		<field
			name="modified"
			type="calendar"
			label="JGLOBAL_FIELD_MODIFIED_LABEL"
			description="COM_SABULLVIAL_FIELD_MODIFIED_DESC"
			class="readonly"
			translateformat="true"
			showtime="true"
			size="22"
			readonly="true"
			filter="user_utc"
		/>

		<field
			name="modified_by"
			type="user"
			label="JGLOBAL_FIELD_MODIFIED_BY_LABEL"
			class="readonly"
			readonly="true"
			filter="unset"
		/>
	</fieldset>
	<fieldset name="notas">
		<field
			name="notas"
			type="tareanota"
			label="COM_SABULLVIAL_TAREA_NOTAS_LABEL"
			description="COM_SABULLVIAL_TAREA_NOTAS_DESC"
			class="inputbox input-xlarge"
			rows="3"
			cols="60"
		/>
	</fieldset>
	<fieldset name="cotizacion">
		<field
			name="id_estadocotizacion"
			type="estadocotizacion"
			label="JSTATUS"
			description="JFIELD_PUBLISHED_DESC"
			class="chzn-color-state chzn-estadocotizacion"
			size="1"
			onchange="changeEstadoCotizacion(this)"
		/>

		<field
			name="cotizacionhistorico"
			type="cotizacionhistoricotable"
			label=" "
			style="max-height: 161px;overflow-y: auto; max-width: 500px"
		/>
	</fieldset>
</form>